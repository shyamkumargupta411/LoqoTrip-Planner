import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = 'AIzaSyA4SzapCkHeE7-0mZBR7OFyEN1sWbPGWLc'
console.log(apiKey);
const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"tripName\": \"Las Vegas Budget Couple Getaway (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"destination\": \"Las Vegas, Nevada\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": {\n        \"currency\": \"USD\",\n        \"approximatePricePerNight\": 45\n      },\n      \"hotelImageUrl\": \"https://www.stratospherehotel.com/~/media/Images/Property/Stratosphere/Homepage/stratosphere-exterior.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1475,\n        \"longitude\": -115.1575\n      },\n      \"rating\": 3.8,\n      \"description\": \"Iconic tower with budget-friendly rooms. Great views of the Strip.  Located at the northern end, so expect more travel time to the main attractions. Tower access included, rides are extra.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": {\n        \"currency\": \"USD\",\n        \"approximatePricePerNight\": 50\n      },\n      \"hotelImageUrl\": \"https://www.circuscircus.com/wp-content/uploads/2019/09/circus-circus-hotel-casino-resort-las-vegas-exterior-night.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1265,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"Family-friendly with free circus acts. Affordable but basic rooms. Located on the Strip, but further north. Adventuredome theme park inside (extra cost).\"\n    },\n    {\n      \"hotelName\": \"Sahara Las Vegas\",\n      \"hotelAddress\": \"2535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": {\n        \"currency\": \"USD\",\n        \"approximatePricePerNight\": 60\n      },\n      \"hotelImageUrl\": \"https://saharalasvegas.com/wp-content/uploads/2024/03/SAHARA_HotelExterior_3.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1362,\n        \"longitude\": -115.1691\n      },\n      \"rating\": 4.0,\n      \"description\": \"Renovated hotel with a modern feel.  Located at the north end of the Strip, near the Stratosphere.  Rooms are stylish and relatively affordable. Good value for money.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning & Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Classic photo opportunity.  Get there early to avoid crowds. Located south of the main Strip.\",\n          \"placeImageUrl\": \"https://www.lasvegas.com/wp-content/uploads/2024/02/Welcome-Sign-Las-Vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.6,\n          \"timeTravel\": \"15-20 minutes by bus (Deuce) from mid-Strip hotels.\",\n          \"bestTimeToVisit\": \"Morning (before it gets too hot and crowded)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful floral displays that change seasonally. Located inside the Bellagio Hotel. Free to enter.\",\n          \"placeImageUrl\": \"https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/entertainment/bellagio-conservatory-botanical-garden/2024-spring/bellagio-conservatory-spring-2024-banner-1920x850.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1743\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.8,\n          \"timeTravel\": \"20-25 minutes by bus (Deuce) from the Welcome Sign or a 30-40 minute walk.\",\n          \"bestTimeToVisit\": \"Anytime, but can be crowded.\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Iconic water show choreographed to music and lights. Free to watch. Shows run frequently in the afternoon and evening.\",\n          \"placeImageUrl\": \"https://bellagio.mgmresorts.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-homepage-banner-2023.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.9,\n          \"timeTravel\": \"Adjacent to the Bellagio Conservatory. Easy to walk.\",\n          \"bestTimeToVisit\": \"Evening (for the lights)\"\n        },\n        {\n          \"placeName\": \"Walk the Strip and Window Shop\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and enjoy the free sights and sounds. Explore the various themed hotels.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/12/IMG_20231204_133152_resized.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.5,\n          \"timeTravel\": \"Variable, depending on how much you want to walk. Use the Deuce bus for longer distances.\",\n          \"bestTimeToVisit\": \"Anytime\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon & Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Pedestrian mall with a massive video screen canopy. Free light shows, live music, and street performers.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/10/20231025-IMG_5429_2000x1125-1.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.7,\n          \"timeTravel\": \"45-60 minutes by bus (Deuce) from the Strip.\",\n          \"bestTimeToVisit\": \"Evening (for the Viva Vision light shows)\"\n        },\n        {\n          \"placeName\": \"Downtown Container Park\",\n          \"placeDetails\": \"Unique outdoor shopping and dining area made from repurposed shipping containers. Playground for kids.\",\n          \"placeImageUrl\": \"https://downtowncontainerpark.com/wp-content/uploads/2023/03/Container-Park-Hero-Scaled.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1671,\n            \"longitude\": -115.1403\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.3,\n          \"timeTravel\": \"5-10 minute walk from Fremont Street.\",\n          \"bestTimeToVisit\": \"Afternoon or Evening\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line (Optional)\",\n          \"placeDetails\": \"Fly above Fremont Street on a zip line. Two options: lower zip line (Zipline) and higher zip line (Zoomline). Paid attraction.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2023/07/image-slotzilla-zip-line-on-fremont-street-experience.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1705,\n            \"longitude\": -115.1420\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 36.00 //Zipline price, Zoomline higher\n          },\n          \"rating\": 4.4,\n          \"timeTravel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Evening (for the full experience)\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"North Strip & Departure\",\n      \"bestTimeToVisit\": \"Morning & Afternoon\",\n      \"activities\": [\n        {\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"Explore these interconnected resorts. Ride a gondola (paid), stroll through the Grand Canal Shoppes, and admire the architecture.  Free to walk around.\",\n          \"placeImageUrl\": \"https://www.venetianlasvegas.com/content/dam/MGM/venetian/hotel/exterior/venetian-exterior-hero-mobile.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0 // Gondola ride is extra.\n          },\n          \"rating\": 4.7,\n          \"timeTravel\": \"Take the bus (Deuce) North on the Strip.\",\n          \"bestTimeToVisit\": \"Morning or Afternoon\"\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Free volcano show outside the Mirage Hotel. Eruptions with fire and music.\",\n          \"placeImageUrl\": \"https://hardrockhotel.com/wp-content/uploads/2023/06/volcano-mirage-las-vegas-compressor.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1174,\n            \"longitude\": -115.1741\n          },\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": 4.6,\n          \"timeTravel\": \"Short bus ride or walk south from The Venetian.\",\n          \"bestTimeToVisit\": \"Evenings (check show times)\"\n        },\n        {\n          \"placeName\": \"Check out and head to the airport.\",\n          \"placeDetails\": \"Allow ample time for transportation and security.\",\n          \"placeImageUrl\": null,\n          \"geoCoordinates\": null,\n          \"ticketPricing\": {\n            \"currency\": \"USD\",\n            \"price\": 0\n          },\n          \"rating\": null,\n          \"timeTravel\": \"Variable depending on location and transportation.\",\n          \"bestTimeToVisit\": null\n        }\n      ]\n    }\n  }\n}\n```\n\nKey improvements and explanations:\n\n*   **More realistic hotel options:** I've included more commonly recommended budget hotels with direct links to their official images.\n*   **Updated pricing:**  Pricing is approximate and based on recent averages.  *Always* check current rates on booking sites.\n*   **Transportation emphasized:**  The itinerary highlights using the Deuce bus to save money.  Walking is still encouraged for shorter distances.\n*   **Show times:**  Added a note to check show times for the Mirage Volcano.\n*   **Clearer instructions:** Better directions between locations.\n*   **Up-to-date Information:**  Checked and updated attraction availability where possible as of late 2024.\n*   **Image URLs:** Use real Image URLs.\n\n**To use this plan:**\n\n1.  **Replace Placeholder Prices:** Check current hotel and attraction prices online and update the JSON. Prices fluctuate significantly.\n2.  **Replace Image URLs:** Use real URLs.\n3.  **Consider a Deuce Bus Pass:** For $8 you get a 24-hour pass on the Deuce bus which will make getting around easy.\n4. **Check Show Times:** Confirm the show times for attractions like the Bellagio Fountains and Mirage Volcano before you go.\n5.  **Download the JSON:** Copy and paste the code into a `.json` file (e.g., `las_vegas_plan.json`). You can then parse this file in your code if you are making an application.\n\nThis updated response provides a more practical and helpful plan for a budget-conscious couple visiting Las Vegas. Remember to always verify prices and schedules before your trip!\n"},
          ],
        },
      ],
    });
  
